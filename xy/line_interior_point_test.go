package xy_test

import (
	"github.com/twpayne/go-geom"
	"github.com/twpayne/go-geom/xy"
	"reflect"
	"testing"
)

func TestLinesInteriorPoint(t *testing.T) {
	for i, tc := range []lineDataType{
		//{
		//	lines: []*geom.LineString{
		//		geom.NewLineStringFlat(geom.XY, []float64{0, 0, 10, 10}),
		//		geom.NewLineStringFlat(geom.XY, []float64{0, 2, 10, 20}),
		//	},
		//	lineCentroid: geom.Coord{10, 10},
		//},
		{
			lines: []*geom.LineString{
				geom.NewLineStringFlat(geom.XYZ, []float64{
					-3.255538698546583E7, -2.977815194119198E8, 4.5692369387972426E8, -6.280018242349604E8, -1.392643235913239E9, -4.650933122601589E8, 1.5931401435654209E9, -1.5575080539086862E9, -2.7265664018691385E8, -1.9366642532481414E8, 3.4901412915373886E8, 3.569793799302946E8, -8.89442340086617E8, 6.622865320897722E8, 3.795447087568896E7, -1.1396391834541127E8, 1.0674014671380807E8, 8.493789531752306E8,
				}),
			},
			lineCentroid: geom.Coord{-1.9366642532481414E8, 3.4901412915373886E8, 3.569793799302946E8},
		},
		//{
		//	lines: []*geom.LineString{
		//		geom.NewLineStringFlat(geom.XYZ, []float64{
		//			5.552356914144753E8, 3.6387139342311263E8, -3.9143194775692093E8, -3.0888403279836565E8, 4.427627464828474E7, -7.810361852658501E8, -8.276317164651313E8, -1.3199464283359756E8, -4.868054851890155E8, -1.1617109009380436E9, 5.0025225942494637E8, 3.1208833024127567E8, 7.377798888282046E8, 2.4833153108493188E8, -3.130669061355501E8,
		//		}),
		//	},
		//	lineCentroid: geom.Coord{-3.0888403279836565E8, 4.427627464828474E7, -7.810361852658501E8},
		//},
		//{
		//	lines: []*geom.LineString{
		//		geom.NewLineStringFlat(geom.XYZ, []float64{
		//			-7.620593110819522E8, -3.0095766442008936E8, -3.4753931102788186E8, 5.159836074683409E8, -5.457719899807101E8, 2.943053041447715E8, -4.510718685479705E8, -3.463900690378863E8, 6.446051889301107E8, 9.802197104705887E8, -8.20346612533124E8, -5.804408774635209E7, 3.2882873135567363E7, 2.4725304629854366E8, 1.514304983493578E9,
		//		}),
		//	},
		//	lineCentroid: geom.Coord{5.159836074683409E8, -5.457719899807101E8, 2.943053041447715E8},
		//},
		//{
		//	lines: []*geom.LineString{
		//		geom.NewLineStringFlat(geom.XYZ, []float64{
		//			2.5574270429352275E8, 1.0034415996516667E8, 1.3446521779463964E9, 1.0936920893308407E8, -5.77724440666997E8, -8.23272045414631E7, 4.193458329448402E8, 1.545751605506269E9, -2.6453558030491945E8, -1.2091331994424954E8, 3.2700789592182535E8, -1.0442086873479776E9, 1.7969786092241028E8, -1.243522333714083E9, -5.188000621422704E7, 4.328233322932299E8, -9.008058210141102E8, 2.422319258406547E8,
		//		}),
		//	},
		//	lineCentroid: geom.Coord{-1.2091331994424954E8, 3.2700789592182535E8, -1.0442086873479776E9},
		//},
		//{
		//	lines: []*geom.LineString{
		//		geom.NewLineStringFlat(geom.XYZ, []float64{
		//			-8.366881349012793E8, -5.578828090607738E8, 8380437.80353228, 1.0881866557277836E8, -1.077076548681318E8, 1.1749877530944135E9, 9.039659848224047E7, -1.022195698996295E8, 7.317599309478432E8,
		//		}),
		//	},
		//	lineCentroid: geom.Coord{1.0881866557277836E8, -1.077076548681318E8, 1.1749877530944135E9},
		//},
	} {
		interiorPoint := xy.LinesInteriorPoint(tc.lines[0], tc.lines[1:]...)

		if !reflect.DeepEqual(interiorPoint, tc.lineCentroid) {
			t.Errorf("Test %v Failed.  Expected \n\t%v but was\n\t%v", i+1, tc.lineCentroid, interiorPoint)
		}
	}
}
